@startuml UML_diagram
' Examples UML diagram showing concrete implementations
' Generate PNG: plantuml -tpng "examples/UML_diagram.puml"

!define CONCRETE_CLASS class

' === STYLING - ORTHOGONAL LINES & SPACING ===
skinparam linetype ortho
skinparam ranksep 50
skinparam nodesep 50
skinparam minlen 3
skinparam packagePadding 10ML_diagram
' Examples UML diagram showing concrete implementations
' Generate PNG: plantuml -tpng "examples/UML_diagram.puml"

!define CONCRETE_CLASS class

' === ORCHESTRATION LAYER ===
CONCRETE_CLASS LBPManager {
    + run_evaluation()
    + run_training()
    + run_calibration()
}

CONCRETE_CLASS EvaluationSystem {
    + add_evaluation_model()
    + run()
}

CONCRETE_CLASS PredictionSystem {
    + add_prediction_model()
    + train_models()
    + predict()
}

' === CONCRETE IMPLEMENTATIONS ===
CONCRETE_CLASS MockDataInterface #eeb6ff55 {
    + pull_study_record()
    + pull_exp_record()
}

CONCRETE_CLASS PathEvaluation #ADD8E655 {
    + target_deviation: float
    + max_deviation: float
    + dimensions: ["layers", "segments"]
}

CONCRETE_CLASS EnergyConsumption #ADD8E655 {
    + target_energy: float
    + max_energy: float
    + dimensions: []
}

CONCRETE_CLASS PredictExample #FFFFE055 {
    + model: RandomForestRegressor
    + train()
    + predict()
}

CONCRETE_CLASS RandomSearchCalibration #FFB6C155 {
    + n_evaluations: int
    + optimize()
}

CONCRETE_CLASS DifferentialEvolutionCalibration #FFB6C155 {
    + maxiter: int
    + popsize: int
    + optimize()
}

CONCRETE_CLASS PathDeviationFeature #90EE9055 {
    + layer_id: int
    + segment_id: int
    + _load_data()
    + _compute_features()
}

CONCRETE_CLASS EnergyFeature #90EE9055 {
    + power_rating: float
    + layerTime: float
    + _load_data()
    + _compute_features()
}

CONCRETE_CLASS TemperatureExtraction #90EE9055 {
    + base_temp: int
    + fluctuation: int
    + _load_data()
    + _compute_features()
}

' === UTILITY PACKAGE ===
note as utils #F8F8F820
  **utils**
  class ParameterHandling
  class LocalData
  class LBPLogger
end note

' === LAYOUT CONTROL - ENFORCE LEVELS ===
' Level 0 -> Level 1 vertical separation
LBPManager -[hidden]down- EvaluationSystem  
LBPManager -[hidden]down- PredictionSystem
LBPManager -[hidden]down- utils

' Level 1 horizontal grouping
MockDataInterface -[hidden]right- EvaluationSystem
EvaluationSystem -[hidden]right- PredictionSystem
PredictionSystem -[hidden]right- utils

' Level 1 -> Level 2 vertical separation  
EvaluationSystem -[hidden]down- PathEvaluation
PredictionSystem -[hidden]down- PredictExample

' Level 2 horizontal grouping - concrete implementations
MockDataInterface -[hidden]right- PathEvaluation
PathEvaluation -[hidden]right- EnergyConsumption
EnergyConsumption -[hidden]right- PredictExample
PredictExample -[hidden]right- RandomSearchCalibration

' Level 2 -> Level 3 vertical separation
PathEvaluation -[hidden]down- PathDeviationFeature
EnergyConsumption -[hidden]down- EnergyFeature
PredictExample -[hidden]down- TemperatureExtraction

' Level 3 horizontal grouping
PathDeviationFeature -[hidden]right- EnergyFeature
EnergyFeature -[hidden]right- TemperatureExtraction

' === RELATIONSHIPS ===

' Core Architecture
LBPManager *-- EvaluationSystem
LBPManager *-- PredictionSystem

' Services & Support  
LBPManager *-- MockDataInterface
LBPManager o-- RandomSearchCalibration
LBPManager o-- DifferentialEvolutionCalibration
LBPManager *-- utils

' Container Relationships
EvaluationSystem o-- PathEvaluation
EvaluationSystem o-- EnergyConsumption
PredictionSystem o-- PredictExample

' Feature Model Dependencies
PathEvaluation ||-- PathDeviationFeature
EnergyConsumption ||-- EnergyFeature
PredictExample o-- TemperatureExtraction

@enduml
